{"version":3,"file":"home.bundle.js","mappings":";;;;;;;;;;;;;;;;AAA8C;AACA;;AAEvC;AACP;AACA;;AAEA;AACA,wBAAwB,2DAAmB;AAC3C;AACA;AACA;AACA,8BAA8B,uDAAQ;AACtC,GAAG;AACH;;AAEO;AACP;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,GAAG;AACH;;AAEO;AACP;AACA;AACA;;AAEA;;AAEO;AACP;AACA;AACA;AACA;;AAEA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;ACxDiE;;AAEjE;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,MAAM,6EAA2B;AACjC,KAAK;AACL;;;;;;;;;;;;;;;ACZA;;AAEO;AACP;AACA,gDAAgD,iBAAiB;AACjE,8CAA8C,kBAAkB;AAChE,8CAA8C,gBAAgB;AAC9D,yBAAyB,KAAK,GAAG,GAAG,GAAG,GAAG;;AAE1C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEO;AACP;AACA;;AAEA;;AAEO;AACP;AACA;AACA;;AAEA;;AAEA;AACA,GAAG;AACH;;AAEO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEO;AACP;AACA;;;;;;;;;;;;AClEO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C,UAAU;AACvD;AACA;AACA;AACA;;;;;;;;UC3BA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;ACNgB","sources":["webpack://webpack-starter-kit/./src/domManipulation.js","webpack://webpack-starter-kit/./src/home/form.js","webpack://webpack-starter-kit/./src/model.js","webpack://webpack-starter-kit/./src/trips/trips-card.js","webpack://webpack-starter-kit/webpack/bootstrap","webpack://webpack-starter-kit/webpack/runtime/define property getters","webpack://webpack-starter-kit/webpack/runtime/hasOwnProperty shorthand","webpack://webpack-starter-kit/webpack/runtime/make namespace object","webpack://webpack-starter-kit/./src/home/home.js"],"sourcesContent":["import { findDestinationByID } from './model';\nimport { TripCard } from './trips/trips-card';\n\nexport function displayFilteredTrips(tripData) {\n  const resultsEl = document.querySelector('.results-container');\n  resultsEl.innerHTML = '';\n\n  tripData.trips.forEach(trip => {\n    const destination = findDestinationByID(\n      tripData.destinations,\n      trip.destinationID,\n    );\n    resultsEl.appendChild(new TripCard(trip, destination));\n  });\n}\n\nexport function displaySelectedFilterOption(criteria) {\n  const btns = document.querySelectorAll('.filter-btn');\n\n  btns.forEach(btn => {\n    if (btn.id === criteria) {\n      btn.classList.add('selected');\n    } else {\n      btn.classList.remove('selected');\n    }\n  });\n}\n\nexport function displayTotalSpent(total) {\n  const totalSpentEl = document.querySelector('.total-spent-value');\n  totalSpentEl.innerText = total.toLocaleString('en-US');\n}\n\n// Trip Request Form Inputs\n\nexport function renderAllDestinationOptions(destinations) {\n  const dropdownOpts = document.querySelector('.dropdown-options');\n  dropdownOpts.innerHTML = '';\n  destinations.forEach(dest => {\n    dropdownOpts.appendChild(new FormOption(dest));\n\n  });\n}\n\nfunction FormOption(destination) {\n  const destOption = document.createElement('p');\n  destOption.innerText = destination.destination;\n\n  destOption.onclick = () => {\n    const destInput = document.querySelector('input#destination');\n    destInput.value = destOption.innerText;\n  }\n\n  return destOption;\n}\n\n// validate for if input is present in destinations array","import { renderAllDestinationOptions } from '../domManipulation';\n\nwindow.onload = () => {\n  fetch('http://localhost:3001/api/v1/destinations')\n    .then(resp => {\n      if (resp.ok) {\n        return resp.json();\n      }\n    })\n    .then(data => {\n      renderAllDestinationOptions(data.destinations);\n    });\n};","/* -------------- Util -------------- */\n\nexport function filterTrips(tripData, criteria, travelerID, year = '2023') {\n  const date = new Date();\n  const yyyy = date.toLocaleString('default', { year: 'numeric' });\n  const mm = date.toLocaleString('default', { month: '2-digit' });\n  const dd = date.toLocaleString('default', { day: '2-digit' });\n  const currentDate = `${yyyy}/${mm}/${dd}`;\n\n  tripData = tripData.filter(trip => trip.userID === travelerID);\n\n  switch (criteria) {\n    case 'byYear':\n      return tripData.filter(\n        trip => trip.date.slice(0, 4) === year && trip.status !== 'pending',\n      );\n    case 'past':\n      return tripData.filter(\n        trip => trip.date < currentDate && trip.status !== 'pending',\n      );\n    case 'upcoming':\n      return tripData.filter(\n        trip => trip.date > currentDate && trip.status === 'approved',\n      );\n    case 'pending':\n      return tripData.filter(trip => trip.status === 'pending');\n    default:\n      return tripData;\n  }\n}\n\n/* -------------- Travelers -------------- */\n\nexport function getRandomTraveler(travelers) {\n  return travelers[Math.floor(Math.random() * travelers.length)];\n}\n\n/* -------------- Calculation -------------- */\n\nexport function calcTotalSpentByYear(userID, trips, destinations, year) {\n  return filterTrips(trips, 'byYear', userID, year).reduce((acc, trip) => {\n    const destination = findDestinationByID(destinations, trip.destinationID);\n    const total = calcTotalCostOfTrip(trip, destination);\n\n    acc += total;\n\n    return acc;\n  }, 0);\n}\n\nexport function calcTotalCostOfTrip(trip, destination) {\n  const flightCost =\n    trip.travelers * (destination.estimatedFlightCostPerPerson * 2);\n\n  const lodgingCost =\n    trip.duration * destination.estimatedLodgingCostPerDay * trip.travelers;\n  const subTotal = flightCost + lodgingCost;\n  const agentFee = subTotal * 0.1;\n\n  return subTotal + agentFee;\n}\n\n/* -------------- Trips -------------- */\n\nexport function findDestinationByID(destinations, destID) {\n  return destinations.find(dest => dest.id === destID);\n}\n","export function TripCard(trip, destination) {\n  const card = document.createElement('article');\n  card.id = trip.id;\n  card.classList.add('trip-card');\n\n  const imgContainer = document.createElement('div');\n  imgContainer.classList.add('img-container');\n  card.appendChild(imgContainer);\n\n  const destinationImg = document.createElement('img');\n  destinationImg.src = destination.image;\n  destinationImg.alt = destination.alt;\n  imgContainer.appendChild(destinationImg);\n\n  const dataContainer = document.createElement('div');\n  dataContainer.classList.add('card-data-container');\n  card.appendChild(dataContainer);\n  \n  const destinationTitle = document.createElement('h2');\n  destinationTitle.innerText = destination.destination;\n  dataContainer.appendChild(destinationTitle);\n\n  const lastVisitDate = document.createElement('p');\n  lastVisitDate.innerText = `Last visited: ${trip.date}`;\n  dataContainer.append(lastVisitDate);\n  \n  return card;\n}\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './form';\n"],"names":[],"sourceRoot":""}